{"remainingRequest":"D:\\实习\\宿舍管理系统\\dms\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\实习\\宿舍管理系统\\dms\\src\\components\\Message\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\实习\\宿舍管理系统\\dms\\src\\components\\Message\\index.vue","mtime":1644741256000},{"path":"D:\\实习\\宿舍管理系统\\dms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\实习\\宿舍管理系统\\dms\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\实习\\宿舍管理系统\\dms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\实习\\宿舍管理系统\\dms\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQge2xpc3QsIGRlbGV0ZVJlY2VpdmUsIGRlbGV0ZVNlbmQsIHF1ZXJ5LGxpc3RTZW5kLCBzZW5kVG9CdWlsZGluZywgcXVlcnlkZXRhaWx9IGZyb20gIkAvYXBpL25vdGljZSI7DQppbXBvcnQge2RlbCwgbGlzdEZsb3csIGxpc3RNeSwgbGlzdE15RmxvdywgcXVlcnkgYXMgcXVlcnlEZXBhcnQsIHVwZGF0ZX0gZnJvbSAiQC9hcGkvZGVwYXJ0IjsNCmltcG9ydCB7bGlzdCBhcyBsaXN0QnVpbGRpbmd9IGZyb20gJ0AvYXBpL2J1aWxkaW5nJw0KaW1wb3J0IHtxdWVyeSBhcyBxdWVyeVN0dWRlbnR9IGZyb20gJ0AvYXBpL3N0dWRlbnQnDQppbXBvcnQgVHJlZVNlbGVjdCBmcm9tICdAcmlvcGhhZS92dWUtdHJlZXNlbGVjdCcNCmltcG9ydCAiQHJpb3BoYWUvdnVlLXRyZWVzZWxlY3QvZGlzdC92dWUtdHJlZXNlbGVjdC5jc3MiOw0KaW1wb3J0IHtjb3VudFVucmVhZH0gZnJvbSAiQC9hcGkvbG9naW4iOw0KaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJpbmRleCIsDQogIGNvbXBvbmVudHM6IHtUcmVlU2VsZWN0fSwNCiAgcHJvcHM6IFsnY2hhbmdlJ10sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIG1lc3NhZ2VUb1NlbmRSdWxlczp7DQogICAgICAgIG1zZzogWw0KICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+Whq+WGmeWGheWuuScsIHRyaWdnZXI6ICdibHVyJ30NCiAgICAgICAgXQ0KICAgICAgfSwNCiAgICAgIHZlcmlmeVJ1bGVzOiB7DQogICAgICAgIGlzQWdyZWU6IFsNCiAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6IumAieaLqeaYr+WQpuWQjOaEjyIsdHJpZ2dlcjogImJsdXIifQ0KICAgICAgICBdDQogICAgICB9LA0KICAgICAgbWVzc2FnZVRvU2VuZDogew0KICAgICAgICBtc2c6dW5kZWZpbmVkLA0KICAgICAgICB0bzogdW5kZWZpbmVkDQogICAgICB9LA0KICAgICAgYnVpbGRpbmdMaXN0OltdLA0KICAgICAgYWN0aXZlTmFtZTogJzEnLA0KICAgICAgbXNnQWN0aXZlTmFtZTogJ3JlY2VpdmUnLA0KICAgICAgZGVwYXJ0QWN0aXZlTmFtZTogJ3JlY2VpdmUnLA0KICAgICAgbXNnOnsNCiAgICAgICAgdG86IHVuZGVmaW5lZCwNCiAgICAgICAgbXNnOiB1bmRlZmluZWQNCiAgICAgIH0sDQogICAgICBtc2dEZXRhaWw6IHsNCiAgICAgICAgaWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgbXNnOiB1bmRlZmluZWQsDQogICAgICAgIHVzZXI6IHt9DQogICAgICB9LA0KICAgICAgbXNnRGlhbG9nVmlzaWJsZTogZmFsc2UsDQogICAgICBkZXBhcnRWZXJpZnlEaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgIHZlcmlmeURpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgZGVwYXJ0QXBwbGljYXRpb25Vc2VyOiB7DQogICAgICAgIGlkOiB1bmRlZmluZWQsDQogICAgICAgIGlzQWdyZWU6IHVuZGVmaW5lZCwNCiAgICAgICAgcmVhc29uOiB1bmRlZmluZWQNCiAgICAgIH0sDQogICAgICBwYWdlSW5mbzoge30sDQogICAgICBsaXN0UXVlcnk6IHsNCiAgICAgICAgcGFnZTogMSwNCiAgICAgICAgcm93czogMTAsDQogICAgICAgIGVudGl0eToge30NCiAgICAgIH0sDQogICAgICBzdHVkZW50OiB7fSwNCiAgICAgIGRlcGFydFZlcmlmeUxpc3Q6IFtdDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgZG9UYXBDaGFuZ2UoKSB7DQogICAgICBsZXQgdGFiID0gdGhpcy5hY3RpdmVOYW1lDQogICAgICBhd2FpdCB0aGlzLnJlZnJlc2hDb3VudCgpDQogICAgICBpZiAodGFiID09PSAnMScpIHsNCiAgICAgICAgYXdhaXQgdGhpcy5kb01zZ1RhcENoYW5nZSgpDQogICAgICB9IGVsc2UgaWYgKHRhYiA9PT0gJzInKSB7DQogICAgICAgIGF3YWl0IHRoaXMuZG9EZXBhcnRUYWJDaGFuZ2UoKQ0KICAgICAgfSBlbHNlIGlmICh0YWIgPT09ICczJykgew0KDQogICAgICB9IGVsc2UgaWYgKHRhYiA9PT0gJzQnKSB7DQogICAgICAgIHRoaXMubWVzc2FnZVRvU2VuZCA9IHsNCiAgICAgICAgICBtc2c6dW5kZWZpbmVkLA0KICAgICAgICAgIHRvOiB1bmRlZmluZWQNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgZG9EZXBhcnRUYWJDaGFuZ2UoKSB7DQogICAgICBpZiAodGhpcy5kZXBhcnRBY3RpdmVOYW1lID09PSAncmVjZWl2ZScpIHsNCiAgICAgICAgY29uc3Qge2RhdGF9ID0gYXdhaXQgbGlzdE15Rmxvdyh0aGlzLmxpc3RRdWVyeSkNCiAgICAgICAgdGhpcy5wYWdlSW5mbyA9IGRhdGENCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNvbnN0IHtkYXRhfSA9IGF3YWl0IGxpc3RNeSh0aGlzLmxpc3RRdWVyeSkNCiAgICAgICAgdGhpcy5wYWdlSW5mbyA9IGRhdGENCiAgICAgIH0NCiAgICB9LA0KICAgIHN1Ym1pdFZlcmlmeSgpIHsNCiAgICAgIHRoaXMuJHJlZnNbJ3ZlcmlmeUZvcm0nXS52YWxpZGF0ZSgodmFsaWQpID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgdXBkYXRlKHRoaXMuZGVwYXJ0QXBwbGljYXRpb25Vc2VyKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICBpZiAocmVzLnN0YXR1c0NvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnLA0KICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJw0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgdGhpcy5kb1RhcENoYW5nZSgpDQogICAgICAgICAgICAgIHRoaXMuY2xvc2VWZXJpZnlEaWFsb2coKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICBtZXNzYWdlOiAn6K+35q2j56Gu5aGr5YaZ5Y+C5pWwJywNCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicNCiAgICAgICAgICB9KTsNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgIH0pDQoNCiAgICB9LA0KICAgIHNob3dWZXJpZnlEaWFsb2coaWQpIHsNCiAgICAgIHRoaXMuZGVwYXJ0QXBwbGljYXRpb25Vc2VyLmlkID0gaWQNCiAgICAgIHRoaXMudmVyaWZ5RGlhbG9nVmlzaWJsZSA9IHRydWUNCiAgICB9LA0KICAgIGNsb3NlVmVyaWZ5RGlhbG9nKCkgew0KICAgICAgdGhpcy5kZXBhcnRBcHBsaWNhdGlvblVzZXIgPSB7DQogICAgICAgIGlkOiB1bmRlZmluZWQsDQogICAgICAgIGlzQWdyZWU6IHVuZGVmaW5lZCwNCiAgICAgICAgcmVhc29uOiB1bmRlZmluZWQNCiAgICAgIH0NCiAgICAgIHRoaXMudmVyaWZ5RGlhbG9nVmlzaWJsZSA9IGZhbHNlDQogICAgfSwNCiAgICBhc3luYyBzaG93RGVwYXJ0VmVyaWZ5RGlhbG9nKGlkKSB7DQogICAgICBjb25zdCB7ZGF0YX0gPSBhd2FpdCBsaXN0RmxvdyhpZCkNCiAgICAgIHRoaXMuZGVwYXJ0VmVyaWZ5TGlzdCA9IGRhdGENCiAgICAgIGlmIChkYXRhKSB7DQogICAgICAgIHRoaXMuZGVwYXJ0VmVyaWZ5RGlhbG9nVmlzaWJsZSA9IHRydWUNCiAgICAgIH0NCiAgICB9LA0KICAgIGRlcGFydFZlcmlmeURpYWxvZ0Nsb3NlKCkgew0KICAgICAgdGhpcy5kZXBhcnRWZXJpZnlMaXN0ID0gW10NCiAgICAgIHRoaXMuZGVwYXJ0VmVyaWZ5RGlhbG9nVmlzaWJsZSA9IGZhbHNlDQogICAgfSwNCiAgICBzZW5kTXNnKCkgew0KICAgICAgaWYgKHRoaXMubWVzc2FnZVRvU2VuZC50byA9PT0gdW5kZWZpbmVkKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nlrr/oiI3mpbwnLA0KICAgICAgICAgIHR5cGU6ICdlcnJvcicNCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgdGhpcy4kcmVmc1snc2VuZE1zZyddLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICBzZW5kVG9CdWlsZGluZyh0aGlzLm1lc3NhZ2VUb1NlbmQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzQ29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2csDQogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy5jYW5jZWwoKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+ato+ehruWhq+WGmeWPguaVsCcsDQogICAgICAgICAgICB0eXBlOiAnZXJyb3InDQogICAgICAgICAgfSk7DQogICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgY2FuY2VsKCkgew0KICAgICAgdGhpcy5tZXNzYWdlVG9TZW5kID0gew0KICAgICAgICB0bzogdW5kZWZpbmVkLA0KICAgICAgICBtc2c6IHVuZGVmaW5lZA0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgbGlzdEJ1aWxkaW5nTGlzdCgpIHsNCiAgICAgIGNvbnN0IHtkYXRhfSA9IGF3YWl0IGxpc3RCdWlsZGluZygpDQogICAgICB0aGlzLmJ1aWxkaW5nTGlzdCA9IGRhdGENCiAgICB9LA0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICB0aGlzLmxpc3RRdWVyeS5wYWdlID0gdmFsDQogICAgICB0aGlzLmRvVGFwQ2hhbmdlKHRoaXMuYWN0aXZlTmFtZSkNCiAgICB9LA0KICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7DQogICAgICB0aGlzLmxpc3RRdWVyeS5yb3dzID0gdmFsDQogICAgICB0aGlzLmRvVGFwQ2hhbmdlKHRoaXMuYWN0aXZlTmFtZSkNCiAgICB9LA0KICAgIGFzeW5jIG1zZ1F1ZXJ5KGlkLHR5cGUpIHsNCiAgICAgIGlmICh0eXBlID09PSAxKSB7DQogICAgICAgIGNvbnN0IHtkYXRhfSA9IGF3YWl0IHF1ZXJ5KGlkKQ0KICAgICAgICB0aGlzLm1zZ0RldGFpbCA9IGRhdGENCiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMikgew0KICAgICAgICBjb25zdCB7ZGF0YX0gPSBhd2FpdCBxdWVyeWRldGFpbChpZCkNCiAgICAgICAgdGhpcy5tc2dEZXRhaWwgPSBkYXRhDQogICAgICB9DQogICAgICBhd2FpdCB0aGlzLmRvVGFwQ2hhbmdlKHRoaXMuYWN0aXZlTmFtZSkNCiAgICAgIHRoaXMubXNnRGlhbG9nVmlzaWJsZSA9IHRydWUNCiAgICB9LA0KICAgIGFzeW5jIHJlZnJlc2hDb3VudCgpIHsNCiAgICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgY291bnRVbnJlYWQoKQ0KICAgICAgaWYgKGNvdW50KSB7DQogICAgICAgIHN0b3JlLmNvbW1pdCgnU0VUX0NPVU5UX1VOUkVBRCcsIGNvdW50LmRhdGEpDQogICAgICB9DQogICAgfSwNCiAgICBtc2dEaWFsb2dDbG9zZSgpIHsNCiAgICAgIHRoaXMubXNnRGV0YWlsID0gew0KICAgICAgICBpZDogdW5kZWZpbmVkLA0KICAgICAgICBtc2c6IHVuZGVmaW5lZCwNCiAgICAgICAgdXNlcjogdW5kZWZpbmVkDQogICAgICB9DQogICAgICB0aGlzLm1zZ0RpYWxvZ1Zpc2libGUgPSBmYWxzZQ0KICAgIH0sDQogICAgYXN5bmMgbXNnRGVsKGlkLCB0eXBlKSB7DQogICAgICBpZiAodHlwZSA9PT0gMSkgew0KICAgICAgICBkZWxldGVSZWNlaXZlKGlkKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgaWYgKHJlcy5zdGF0dXNDb2RlID09PSAyMDApIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnLA0KICAgICAgICAgICAgICB0eXBlOidzdWNjZXNzJw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHRoaXMuZG9UYXBDaGFuZ2UodGhpcy5hY3RpdmVOYW1lKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMil7DQogICAgICAgIGRlbGV0ZVNlbmQoaWQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICBpZiAocmVzLnN0YXR1c0NvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2csDQogICAgICAgICAgICAgIHR5cGU6J3N1Y2Nlc3MnDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgdGhpcy5kb1RhcENoYW5nZSh0aGlzLmFjdGl2ZU5hbWUpDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAzKSB7DQogICAgICAgIGRlbChpZCkudGhlbihyZXMgPT4gew0KICAgICAgICAgIGlmIChyZXMuc3RhdHVzQ29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZywNCiAgICAgICAgICAgICAgdHlwZTonc3VjY2VzcycNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICB0aGlzLmRvVGFwQ2hhbmdlKHRoaXMuYWN0aXZlTmFtZSkNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDQpIHsNCg0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgZG9Nc2dUYXBDaGFuZ2UoKSB7DQogICAgICBpZiAodGhpcy5tc2dBY3RpdmVOYW1lID09PSAncmVjZWl2ZScpIHsNCiAgICAgICAgY29uc3Qge2RhdGF9ID0gYXdhaXQgbGlzdCh0aGlzLmxpc3RRdWVyeSkNCiAgICAgICAgdGhpcy5wYWdlSW5mbyA9IGRhdGENCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNvbnN0IHtkYXRhfSA9IGF3YWl0IGxpc3RTZW5kKHRoaXMubGlzdFF1ZXJ5KQ0KICAgICAgICB0aGlzLnBhZ2VJbmZvID0gZGF0YQ0KICAgICAgfQ0KICAgIH0sDQogICAgbm9ybWFsaXplcihub2RlKSB7DQogICAgICBpZiAobm9kZS5jaGlsZHJlbiAmJiAhbm9kZS5jaGlsZHJlbi5sZW5ndGgpIHsNCiAgICAgICAgZGVsZXRlIG5vZGUuY2hpbGRyZW47DQogICAgICB9DQogICAgICByZXR1cm4gew0KICAgICAgICBpZDogbm9kZS5pZCwNCiAgICAgICAgbGFiZWw6IG5vZGUubmFtZSwNCiAgICAgICAgY2hpbGRyZW46IG5vZGUuY2hpbGRyZW4NCiAgICAgIH07DQogICAgfSwNCiAgICBhc3luYyBnZXRTdHVkZW50KGlkKSB7DQogICAgICBjb25zdCB7ZGF0YX0gPSBhd2FpdCBxdWVyeVN0dWRlbnQoaWQpDQogICAgICB0aGlzLnN0dWRlbnQgPSBkYXRhDQogICAgfSwNCiAgICBoaWRlUG9wb3ZlcigpIHsNCiAgICAgIHRoaXMuc3R1ZGVudCA9IHt9DQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZG9UYXBDaGFuZ2UodGhpcy5hY3RpdmVOYW1lKQ0KICB9LA0KICB3YXRjaDogew0KICAgIGNoYW5nZSh2YWwpIHsNCiAgICAgIGlmICh2YWwgPT09IDEpIHsNCiAgICAgICAgdGhpcy5kb1RhcENoYW5nZSh0aGlzLmFjdGl2ZU5hbWUpDQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAgTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Message","sourcesContent":["<template>\r\n  <div>\r\n    <el-tabs v-model=\"activeName\" tab-position=\"left\" @tab-click=\"doTapChange\">\r\n      <el-tab-pane label=\"通知\" name=\"1\">\r\n        <el-tabs v-model=\"msgActiveName\" @tab-click=\"doMsgTapChange\">\r\n          <el-tab-pane label=\"我收到的\" name=\"receive\">\r\n            <div style=\"width: 80%;margin: 0 auto\">\r\n              <el-table :data=\"pageInfo.list\" height=\"470\">\r\n                <el-table-column\r\n                    label=\"序号\" width=\"80\"\r\n                >\r\n                  <template slot-scope=\"scope\">{{ (listQuery.page - 1) * (listQuery.rows) + scope.$index + 1 }}\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"内容\" width=\"400\">\r\n                  <template slot-scope=\"scope\">{{scope.row.msg.substr(0,15)}}{{scope.row.msg.length > 15 ? \"...\" : \"\"}}</template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"user.realName\" label=\"发送者\" width=\"200\"></el-table-column>\r\n                <el-table-column label=\"时间\" prop=\"time\" width=\"200\"></el-table-column>\r\n                <el-table-column label=\"操作\" width=\"200\">\r\n                  <template slot-scope=\"scope\">\r\n                    <template>\r\n                      <el-badge is-dot class=\"item\" v-if=\"!scope.row.isRead\">\r\n                      <el-button size=\"mini\" type=\"primary\" @click=\"msgQuery(scope.row.id, 1)\">查看\r\n                      </el-button>\r\n                      </el-badge>\r\n                      <el-button v-else size=\"mini\" type=\"primary\" @click=\"msgQuery(scope.row.id, 1)\">查看\r\n                      </el-button>\r\n                      <el-popconfirm title=\"确定删除吗？\" @confirm=\"msgDel(scope.row.id, 1)\">\r\n                        <el-button style=\"margin-left: 8px\"\r\n                                   slot=\"reference\"\r\n                                   size=\"mini\" type=\"danger\">删除\r\n                        </el-button>\r\n                      </el-popconfirm>\r\n                    </template>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n              <div class=\"page\" style=\"margin-top: 10px\">\r\n                <el-pagination\r\n                    background\r\n                    :hide-on-single-page=\"false\"\r\n                    :page-size=\"listQuery.rows\"\r\n                    :page-count=\"pageInfo.pages\"\r\n                    layout=\"->, prev, pager, next, jumper, total, sizes\"\r\n                    :total=\"pageInfo.total\"\r\n                    :current-page.sync=\"pageInfo.pageNum\"\r\n                    @current-change=\"handleCurrentChange\"\r\n                    @size-change=\"handleSizeChange\"\r\n                >\r\n                </el-pagination>\r\n              </div>\r\n            </div>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"我发送的\" name=\"send\">\r\n            <div style=\"width: 60%;margin: 0 auto\">\r\n              <el-table :data=\"pageInfo.list\" height=\"470\">\r\n                <el-table-column\r\n                    label=\"序号\" width=\"80\"\r\n                >\r\n                  <template slot-scope=\"scope\">{{ (listQuery.page - 1) * (listQuery.rows) + scope.$index + 1 }}\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"内容\" width=\"320\">\r\n                  <template slot-scope=\"scope\">{{scope.row.msg.substr(0,15)}}{{scope.row.msg.length > 15 ? \"...\" : \"\"}}</template>\r\n                </el-table-column>\r\n                <el-table-column label=\"时间\" prop=\"time\" width=\"200\"></el-table-column>\r\n                <el-table-column label=\"操作\" width=\"200\">\r\n                  <template slot-scope=\"scope\">\r\n                    <template>\r\n                      <el-button size=\"mini\" type=\"primary\" @click=\"msgQuery(scope.row.id, 2)\">查看\r\n                      </el-button>\r\n                      <el-popconfirm title=\"确定删除吗？\" @confirm=\"msgDel(scope.row.id, 2)\">\r\n                        <el-button style=\"margin-left: 8px\"\r\n                                   slot=\"reference\"\r\n                                   size=\"mini\" type=\"danger\">删除\r\n                        </el-button>\r\n                      </el-popconfirm>\r\n                    </template>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n              <div class=\"page\" style=\"margin-top: 10px\">\r\n                <el-pagination\r\n                    background\r\n                    :hide-on-single-page=\"false\"\r\n                    :page-size=\"listQuery.rows\"\r\n                    :page-count=\"pageInfo.pages\"\r\n                    layout=\"->, prev, pager, next, jumper, total, sizes\"\r\n                    :total=\"pageInfo.total\"\r\n                    :current-page.sync=\"pageInfo.pageNum\"\r\n                    @current-change=\"handleCurrentChange\"\r\n                    @size-change=\"handleSizeChange\"\r\n                >\r\n                </el-pagination>\r\n              </div>\r\n            </div>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"退宿审核\" name=\"2\">\r\n        <el-tabs v-model=\"departActiveName\" @tab-click=\"doDepartTabChange\">\r\n          <el-tab-pane label=\"我审核的\" name=\"receive\">\r\n            <div style=\"width: 90%;margin: 0 auto\">\r\n              <el-table :data=\"pageInfo.list\" height=\"470\">\r\n                <el-table-column label=\"学生姓名\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-popover\r\n                        placement=\"bottom\"\r\n                        width=\"200\"\r\n                        trigger=\"click\" @show=\"getStudent(scope.row.application.student.id)\" @hide=\"hidePopover\">\r\n                      <el-form label-width=\"40px\">\r\n                        <el-form-item label=\"姓名\">\r\n                          <el-input v-model=\"student.name\" readonly size=\"mini\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"学号\">\r\n                          <el-input v-model=\"student.number\" readonly size=\"mini\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"电话\">\r\n                          <el-input v-model=\"student.phone\" readonly size=\"mini\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"班级\" v-if=\"student.faculty\">\r\n                          <el-input v-model=\"student.faculty.name\" readonly size=\"mini\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"寝室\" v-if=\"student.room\">\r\n                          <el-input v-model=\"student.room.number\" readonly size=\"mini\"></el-input>\r\n                        </el-form-item>\r\n                      </el-form>\r\n                      <span slot=\"reference\" style=\"color: #409EFF;cursor: pointer\">{{scope.row.application.student.name}}</span>\r\n                    </el-popover>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"申请人\" prop=\"application.applyUser.realName\"></el-table-column>\r\n                <el-table-column label=\"申请理由\" :show-overflow-tooltip=\"true\" prop=\"application.reason\"></el-table-column>\r\n                <el-table-column label=\"申请时间\" prop=\"application.time\"></el-table-column>\r\n                <el-table-column label=\"是否通过\">\r\n                  <template slot-scope=\"scope\">\r\n                    <span v-if=\"scope.row.isAgree===undefined\">未审核</span>\r\n                    <span style=\"color: #67C23A\" v-else-if=\"scope.row.isAgree\">通过</span>\r\n                    <span style=\"color: #F56C6C\" v-else>不通过</span>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作时间\">\r\n                  <template slot-scope=\"scope\">\r\n                    <span v-if=\"scope.row.isAgree===undefined\">未审核</span>\r\n                    <span style=\"color: #67C23A\" v-else-if=\"scope.row.isAgree\">{{scope.row.operateTime}}</span>\r\n                    <span style=\"color: #F56C6C\" v-else>{{scope.row.operateTime}}</span>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"审核理由\" :show-overflow-tooltip=\"true\">\r\n                  <template slot-scope=\"scope\">\r\n                    <span v-if=\"scope.row.isAgree===undefined\">未审核</span>\r\n                    <span style=\"color: #67C23A\" v-else-if=\"scope.row.isAgree\">{{scope.row.reason}}</span>\r\n                    <span style=\"color: #F56C6C\" v-else>{{scope.row.reason}}</span>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-button type=\"primary\" size=\"mini\" :disabled=\"scope.row.isAgree !== undefined\" @click=\"showVerifyDialog(scope.row.id)\">审核</el-button>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </div>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"我发起的\" name=\"send\">\r\n            <div style=\"width: 80%;margin: 0 auto\">\r\n              <el-table :data=\"pageInfo.list\" height=\"470\">\r\n                <el-table-column label=\"学生姓名\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-popover\r\n                        placement=\"bottom\"\r\n                        width=\"200\"\r\n                        trigger=\"click\" @show=\"getStudent(scope.row.student.id)\" @hide=\"hidePopover\">\r\n                      <el-form label-width=\"40px\">\r\n                        <el-form-item label=\"姓名\">\r\n                          <el-input v-model=\"student.name\" readonly size=\"mini\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"学号\">\r\n                          <el-input v-model=\"student.number\" readonly size=\"mini\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"电话\">\r\n                          <el-input v-model=\"student.phone\" readonly size=\"mini\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"班级\" v-if=\"student.faculty\">\r\n                          <el-input v-model=\"student.faculty.name\" readonly size=\"mini\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"寝室\" v-if=\"student.room\">\r\n                          <el-input v-model=\"student.room.number\" readonly size=\"mini\"></el-input>\r\n                        </el-form-item>\r\n                      </el-form>\r\n                      <span slot=\"reference\" style=\"color: #409EFF;cursor: pointer\">{{scope.row.student.name}}</span>\r\n                    </el-popover>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"理由\" prop=\"reason\"></el-table-column>\r\n                <el-table-column label=\"申请时间\" prop=\"time\"></el-table-column>\r\n                <el-table-column label=\"状态\">\r\n                  <template slot-scope=\"scope\">\r\n                    {{scope.row.isFinished ? '已结束，' + (scope.row.isPass? \"通过\":\"不通过\"):'正在审核'}}\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-button size=\"mini\" type=\"primary\" @click=\"showDepartVerifyDialog(scope.row.id)\">查看审核记录</el-button>\r\n                    <el-button size=\"mini\" type=\"danger\" :disabled=\"scope.row.isFinished\" @click=\"msgDel(scope.row.id, 3)\">撤销申请</el-button>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n              <div class=\"page\" style=\"margin-top: 10px\">\r\n                <el-pagination\r\n                    background\r\n                    :hide-on-single-page=\"false\"\r\n                    :page-size=\"listQuery.rows\"\r\n                    :page-count=\"pageInfo.pages\"\r\n                    layout=\"->, prev, pager, next, jumper, total, sizes\"\r\n                    :total=\"pageInfo.total\"\r\n                    :current-page.sync=\"pageInfo.pageNum\"\r\n                    @current-change=\"handleCurrentChange\"\r\n                    @size-change=\"handleSizeChange\"\r\n                >\r\n                </el-pagination>\r\n              </div>\r\n            </div>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"发送通知\" name=\"4\" v-has-permi=\"['home:send:msg']\">\r\n        <div style=\"width: 80%;margin: 20px auto\">\r\n          <el-form :model=\"messageToSend\" ref=\"sendMsg\" :rules=\"messageToSendRules\" label-width=\"100px\">\r\n            <el-form-item label=\"接收宿舍楼\" prop=\"to\">\r\n              <tree-select\r\n                  @open=\"listBuildingList\"\r\n                  v-model=\"messageToSend.to\"\r\n                  :options=\"buildingList\"\r\n                  :normalizer=\"normalizer\"\r\n                  :show-count=\"true\"\r\n                  placeholder=\"选择宿舍楼\">\r\n              </tree-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"通知内容\" prop=\"msg\">\r\n              <el-input type=\"textarea\" v-model=\"messageToSend.msg\" rows=\"10\" placeholder=\"输入通知内容\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"sendMsg\">发 送</el-button>\r\n              <el-button type=\"danger\" @click=\"cancel\">清 空</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n    <div class=\"msg-dialog\">\r\n      <el-dialog :visible.sync=\"msgDialogVisible\" @closed=\"msgDialogClose\" append-to-body title=\"详情\" width=\"40%\">\r\n        <el-form label-width=\"80px\">\r\n          <el-form-item label=\"发送者\" v-if=\"msgDetail.user\">\r\n            <el-input readonly v-model=\"msgDetail.user.realName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"时间\">\r\n            <el-input readonly v-model=\"msgDetail.time\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"内容\">\r\n            <el-input type=\"textarea\" readonly v-model=\"msgDetail.msg\" rows=\"10\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"接收者\" v-if=\"msgDetail.receiveUsers\">\r\n            <div style=\"width:50%;float: left\" v-for=\"item of msgDetail.receiveUsers\">\r\n              <span>{{item.user.realName}} </span>\r\n              <span v-if=\"item.isRead\" style=\"color: #67C23A\"> 已读</span>\r\n              <span v-else style=\"color: #909399\"> 未读</span>\r\n            </div>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-dialog>\r\n    </div>\r\n    <div class=\"depart-dialog\">\r\n      <el-dialog :visible.sync=\"departVerifyDialogVisible\" @closed=\"departVerifyDialogClose\"\r\n                 append-to-body title=\"审核记录\" width=\"40%\">\r\n        <el-timeline>\r\n          <el-timeline-item\r\n              v-for=\"(activity, index) in departVerifyList\"\r\n              :key=\"index\"\r\n              :color=\"activity.isAgree === undefined?'':activity.isAgree?'#0bbd87':'#f56c6c'\"\r\n              :timestamp=\"activity.operateTime\">\r\n            {{activity.operateUser.realName + \"：\" +\r\n          (activity.isAgree===undefined ? \"等待审核\" : ((activity.isAgree?\"通过\":\"不通过\") +  \"，原因：\" + (activity.reason||\"无\")))}}\r\n          </el-timeline-item>\r\n        </el-timeline>\r\n      </el-dialog>\r\n      <el-dialog :visible.sync=\"verifyDialogVisible\" append-to-body title=\"审核\" @close=\"closeVerifyDialog\" width=\"45%\">\r\n        <el-form label-width=\"80px\" :rules=\"verifyRules\" :model=\"departApplicationUser\" ref=\"verifyForm\">\r\n          <el-form-item label=\"是否通过\" prop=\"isAgree\">\r\n            <el-radio v-model=\"departApplicationUser.isAgree\" :label=\"true\">通过</el-radio>\r\n            <el-radio v-model=\"departApplicationUser.isAgree\" :label=\"false\">不通过</el-radio>\r\n          </el-form-item>\r\n          <el-form-item label=\"原因\">\r\n            <el-input type=\"textarea\" rows=\"10\" v-model=\"departApplicationUser.reason\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button type=\"primary\" @click=\"submitVerify\">提 交</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {list, deleteReceive, deleteSend, query,listSend, sendToBuilding, querydetail} from \"@/api/notice\";\r\nimport {del, listFlow, listMy, listMyFlow, query as queryDepart, update} from \"@/api/depart\";\r\nimport {list as listBuilding} from '@/api/building'\r\nimport {query as queryStudent} from '@/api/student'\r\nimport TreeSelect from '@riophae/vue-treeselect'\r\nimport \"@riophae/vue-treeselect/dist/vue-treeselect.css\";\r\nimport {countUnread} from \"@/api/login\";\r\nimport store from \"@/store\";\r\n\r\nexport default {\r\n  name: \"index\",\r\n  components: {TreeSelect},\r\n  props: ['change'],\r\n  data() {\r\n    return {\r\n      messageToSendRules:{\r\n        msg: [\r\n          {required: true, message: '请填写内容', trigger: 'blur'}\r\n        ]\r\n      },\r\n      verifyRules: {\r\n        isAgree: [\r\n          {required: true, message:\"选择是否同意\",trigger: \"blur\"}\r\n        ]\r\n      },\r\n      messageToSend: {\r\n        msg:undefined,\r\n        to: undefined\r\n      },\r\n      buildingList:[],\r\n      activeName: '1',\r\n      msgActiveName: 'receive',\r\n      departActiveName: 'receive',\r\n      msg:{\r\n        to: undefined,\r\n        msg: undefined\r\n      },\r\n      msgDetail: {\r\n        id: undefined,\r\n        msg: undefined,\r\n        user: {}\r\n      },\r\n      msgDialogVisible: false,\r\n      departVerifyDialogVisible: false,\r\n      verifyDialogVisible: false,\r\n      departApplicationUser: {\r\n        id: undefined,\r\n        isAgree: undefined,\r\n        reason: undefined\r\n      },\r\n      pageInfo: {},\r\n      listQuery: {\r\n        page: 1,\r\n        rows: 10,\r\n        entity: {}\r\n      },\r\n      student: {},\r\n      departVerifyList: []\r\n    }\r\n  },\r\n  methods: {\r\n    async doTapChange() {\r\n      let tab = this.activeName\r\n      await this.refreshCount()\r\n      if (tab === '1') {\r\n        await this.doMsgTapChange()\r\n      } else if (tab === '2') {\r\n        await this.doDepartTabChange()\r\n      } else if (tab === '3') {\r\n\r\n      } else if (tab === '4') {\r\n        this.messageToSend = {\r\n          msg:undefined,\r\n          to: undefined\r\n        }\r\n      }\r\n    },\r\n    async doDepartTabChange() {\r\n      if (this.departActiveName === 'receive') {\r\n        const {data} = await listMyFlow(this.listQuery)\r\n        this.pageInfo = data\r\n      } else {\r\n        const {data} = await listMy(this.listQuery)\r\n        this.pageInfo = data\r\n      }\r\n    },\r\n    submitVerify() {\r\n      this.$refs['verifyForm'].validate((valid) => {\r\n        if (valid) {\r\n          update(this.departApplicationUser).then(res => {\r\n            if (res.statusCode === 200) {\r\n              this.$message({\r\n                message: res.msg,\r\n                type: 'success'\r\n              });\r\n              this.doTapChange()\r\n              this.closeVerifyDialog()\r\n            }\r\n          })\r\n        } else {\r\n          this.$message({\r\n            message: '请正确填写参数',\r\n            type: 'error'\r\n          });\r\n          return false;\r\n        }\r\n      })\r\n\r\n    },\r\n    showVerifyDialog(id) {\r\n      this.departApplicationUser.id = id\r\n      this.verifyDialogVisible = true\r\n    },\r\n    closeVerifyDialog() {\r\n      this.departApplicationUser = {\r\n        id: undefined,\r\n        isAgree: undefined,\r\n        reason: undefined\r\n      }\r\n      this.verifyDialogVisible = false\r\n    },\r\n    async showDepartVerifyDialog(id) {\r\n      const {data} = await listFlow(id)\r\n      this.departVerifyList = data\r\n      if (data) {\r\n        this.departVerifyDialogVisible = true\r\n      }\r\n    },\r\n    departVerifyDialogClose() {\r\n      this.departVerifyList = []\r\n      this.departVerifyDialogVisible = false\r\n    },\r\n    sendMsg() {\r\n      if (this.messageToSend.to === undefined) {\r\n        this.$message({\r\n          message: '请选择宿舍楼',\r\n          type: 'error'\r\n        });\r\n        return\r\n      }\r\n      this.$refs['sendMsg'].validate((valid) => {\r\n        if (valid) {\r\n          sendToBuilding(this.messageToSend).then(res => {\r\n            if (res.statusCode === 200) {\r\n              this.$message({\r\n                message: res.msg,\r\n                type: 'success'\r\n              });\r\n            }\r\n          })\r\n          this.cancel()\r\n        } else {\r\n          this.$message({\r\n            message: '请正确填写参数',\r\n            type: 'error'\r\n          });\r\n          return false;\r\n        }\r\n      })\r\n    },\r\n    cancel() {\r\n      this.messageToSend = {\r\n        to: undefined,\r\n        msg: undefined\r\n      }\r\n    },\r\n    async listBuildingList() {\r\n      const {data} = await listBuilding()\r\n      this.buildingList = data\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.listQuery.page = val\r\n      this.doTapChange(this.activeName)\r\n    },\r\n    handleSizeChange(val) {\r\n      this.listQuery.rows = val\r\n      this.doTapChange(this.activeName)\r\n    },\r\n    async msgQuery(id,type) {\r\n      if (type === 1) {\r\n        const {data} = await query(id)\r\n        this.msgDetail = data\r\n      } else if (type === 2) {\r\n        const {data} = await querydetail(id)\r\n        this.msgDetail = data\r\n      }\r\n      await this.doTapChange(this.activeName)\r\n      this.msgDialogVisible = true\r\n    },\r\n    async refreshCount() {\r\n      const count = await countUnread()\r\n      if (count) {\r\n        store.commit('SET_COUNT_UNREAD', count.data)\r\n      }\r\n    },\r\n    msgDialogClose() {\r\n      this.msgDetail = {\r\n        id: undefined,\r\n        msg: undefined,\r\n        user: undefined\r\n      }\r\n      this.msgDialogVisible = false\r\n    },\r\n    async msgDel(id, type) {\r\n      if (type === 1) {\r\n        deleteReceive(id).then(res => {\r\n          if (res.statusCode === 200) {\r\n            this.$message({\r\n              message: res.msg,\r\n              type:'success'\r\n            })\r\n            this.doTapChange(this.activeName)\r\n          }\r\n        })\r\n      } else if (type === 2){\r\n        deleteSend(id).then(res => {\r\n          if (res.statusCode === 200) {\r\n            this.$message({\r\n              message: res.msg,\r\n              type:'success'\r\n            })\r\n            this.doTapChange(this.activeName)\r\n          }\r\n        })\r\n      } else if (type === 3) {\r\n        del(id).then(res => {\r\n          if (res.statusCode === 200) {\r\n            this.$message({\r\n              message: res.msg,\r\n              type:'success'\r\n            })\r\n            this.doTapChange(this.activeName)\r\n          }\r\n        })\r\n      } else if (type === 4) {\r\n\r\n      }\r\n    },\r\n    async doMsgTapChange() {\r\n      if (this.msgActiveName === 'receive') {\r\n        const {data} = await list(this.listQuery)\r\n        this.pageInfo = data\r\n      } else {\r\n        const {data} = await listSend(this.listQuery)\r\n        this.pageInfo = data\r\n      }\r\n    },\r\n    normalizer(node) {\r\n      if (node.children && !node.children.length) {\r\n        delete node.children;\r\n      }\r\n      return {\r\n        id: node.id,\r\n        label: node.name,\r\n        children: node.children\r\n      };\r\n    },\r\n    async getStudent(id) {\r\n      const {data} = await queryStudent(id)\r\n      this.student = data\r\n    },\r\n    hidePopover() {\r\n      this.student = {}\r\n    }\r\n  },\r\n  mounted() {\r\n    this.doTapChange(this.activeName)\r\n  },\r\n  watch: {\r\n    change(val) {\r\n      if (val === 1) {\r\n        this.doTapChange(this.activeName)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}