{"remainingRequest":"D:\\实习\\宿舍管理系统\\dms\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\实习\\宿舍管理系统\\dms\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\实习\\宿舍管理系统\\dms\\src\\App.vue","mtime":1644741256000},{"path":"D:\\实习\\宿舍管理系统\\dms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\实习\\宿舍管理系统\\dms\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\实习\\宿舍管理系统\\dms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\实习\\宿舍管理系统\\dms\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgc3RvcmUgZnJvbSAnLi9zdG9yZScNCmltcG9ydCBNZXNzYWdlIGZyb20gJy4vY29tcG9uZW50cy9NZXNzYWdlJw0KaW1wb3J0IE1lbnVJdGVtIGZyb20gJy4vY29tcG9uZW50cy9NZW51SXRlbXMnDQppbXBvcnQge2xvZ291dH0gZnJvbSAiLi9hcGkvbG9naW4iOw0KaW1wb3J0IHtyZW1vdmVUb2tlbn0gZnJvbSAiLi91dGlscy9hdXRoIjsNCmltcG9ydCBCcmVhZGNydW1iIGZyb20gJ0AvY29tcG9uZW50cy9CcmVhZGNydW1iJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGNoYW5nZTogMCwNCiAgICAgIGlzQ29sbGFwc2U6IGZhbHNlLA0KICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UNCiAgICB9DQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBNZW51SXRlbSwgQnJlYWRjcnVtYixNZXNzYWdlDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBzaG93TWFpbERpYWxvZygpIHsNCiAgICAgIHRoaXMuY2hhbmdlID0gMQ0KICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZQ0KICAgIH0sDQogICAgaGFuZGxlQ2xvc2UoKSB7DQogICAgICB0aGlzLmNoYW5nZSA9IDANCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlDQogICAgfSwNCiAgICB0byh1cmwpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHVybCkuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgZXJyDQogICAgICB9KQ0KICAgIH0sDQogICAgaGFuZGxlQ29tbWFuZChjb21tYW5kKSB7DQogICAgICBpZiAoY29tbWFuZCA9PT0gJ2xvZ291dCcpIHsNCiAgICAgICAgdGhpcy5sb2dvdXQoKQ0KICAgICAgfSBlbHNlIGlmIChjb21tYW5kID09PSAnc2V0dGluZycpIHsNCiAgICAgICAgdGhpcy50bygnL3BlcnNvbmFsL2luZm8nKQ0KICAgICAgfSBlbHNlIGlmIChjb21tYW5kID09PSAnY2hhbmdlJykgew0KICAgICAgICB0aGlzLnRvKCcvcGVyc29uYWwvY2hhbmdlX3Bhc3N3b3JkJykNCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIGxvZ291dCgpIHsNCiAgICAgIGF3YWl0IGxvZ291dCgpDQogICAgICBhd2FpdCByZW1vdmVUb2tlbigpDQogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHByb2Nlc3MuZW52LlZVRV9BUFBfU1NPDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGFjdGl2ZU1lbnUoKSB7DQogICAgICBjb25zdCByb3V0ZSA9IHRoaXMuJHJvdXRlDQogICAgICBjb25zdCB7cGF0aH0gPSByb3V0ZQ0KICAgICAgcmV0dXJuIHBhdGgNCiAgICB9LA0KICAgIGNvdW50KCkgew0KICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLmNvdW50VW5yZWFkDQogICAgfSwNCiAgICBtZW51KCkgew0KICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLm1lbnUNCiAgICB9LA0KICAgIG5hbWUoKSB7DQogICAgICByZXR1cm4gc3RvcmUuc3RhdGUudXNlck5hbWUNCiAgICB9LA0KICAgIGljb24oKSB7DQogICAgICByZXR1cm4gc3RvcmUuc3RhdGUudXNlckljb24NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";AAsEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <div class=\"pull-left\" :class=\"isCollapse?'nav-collapse':'nav'\">\r\n      <el-menu :default-active=\"activeMenu\" class=\"nav\" :collapse=\"isCollapse\" unique-opened>\r\n        <img :class=\"isCollapse?'logo-collapse':'logo'\" src=\"./assets/logo.png\" alt=\"\" @click=\"to('/')\">\r\n        <el-menu-item index=\"/index\"\r\n                      @click=\"to('/index')\">\r\n          <i class=\"iconfont iconhomepage\"></i>\r\n          <span slot=\"title\">首页</span>\r\n        </el-menu-item>\r\n        <menu-item :menu=\"item\" :key=\"item.id\" v-for=\"item in menu\"/>\r\n      </el-menu>\r\n    </div>\r\n    <div :class=\"isCollapse?'main-collapse':'main'\">\r\n      <div :class=\"isCollapse?'top-bar-collapse':'top-bar'\">\r\n        <el-header>\r\n          <div class=\"left\">\r\n                        <span @click=\"isCollapse = !isCollapse\">\r\n                            <i class=\"el-icon-s-fold\" v-if=\"!isCollapse\"></i>\r\n                            <i class=\"el-icon-s-unfold\" v-else></i>\r\n                        </span>\r\n          </div>\r\n          <div class=\"right\">\r\n            <div class=\"mail\">\r\n              <el-badge :value=\"count\" :max=\"99\" class=\"item\">\r\n                <i class=\"el-icon-message\" @click=\"showMailDialog\"></i>\r\n              </el-badge>\r\n            </div>\r\n            <div class=\"icon\">\r\n              <el-avatar\r\n                  :src=\"icon\" v-if=\"icon\"></el-avatar>\r\n              <el-avatar v-else> {{ name }}</el-avatar>\r\n            </div>\r\n            <el-dropdown @command=\"handleCommand\">\r\n                              <span class=\"el-dropdown-link name\">\r\n                                {{ name }}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                              </span>\r\n              <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item command=\"setting\">\r\n                  <span style=\"display:block;\">个人中心</span>\r\n                </el-dropdown-item>\r\n                <el-dropdown-item command=\"change\">\r\n                  <span style=\"display:block;\">修改密码</span>\r\n                </el-dropdown-item>\r\n                <el-dropdown-item command=\"logout\">\r\n                  <span style=\"display:block;\">注销</span>\r\n                </el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </el-dropdown>\r\n          </div>\r\n        </el-header>\r\n      </div>\r\n      <div class=\"router\">\r\n        <div class=\"breadcrumb\">\r\n          <breadcrumb/>\r\n        </div>\r\n        <transition name=\"fade-transform\" mode=\"out-in\">\r\n          <router-view/>\r\n        </transition>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"dialog\">\r\n      <el-dialog :visible.sync=\"dialogVisible\" @closed=\"handleClose\" title=\"消息\" :fullscreen=\"true\">\r\n        <message :change=\"change\"></message>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport store from './store'\r\nimport Message from './components/Message'\r\nimport MenuItem from './components/MenuItems'\r\nimport {logout} from \"./api/login\";\r\nimport {removeToken} from \"./utils/auth\";\r\nimport Breadcrumb from '@/components/Breadcrumb'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      change: 0,\r\n      isCollapse: false,\r\n      dialogVisible: false\r\n    }\r\n  },\r\n  components: {\r\n    MenuItem, Breadcrumb,Message\r\n  },\r\n  methods: {\r\n    showMailDialog() {\r\n      this.change = 1\r\n      this.dialogVisible = true\r\n    },\r\n    handleClose() {\r\n      this.change = 0\r\n      this.dialogVisible = false\r\n    },\r\n    to(url) {\r\n      this.$router.push(url).catch(err => {\r\n        err\r\n      })\r\n    },\r\n    handleCommand(command) {\r\n      if (command === 'logout') {\r\n        this.logout()\r\n      } else if (command === 'setting') {\r\n        this.to('/personal/info')\r\n      } else if (command === 'change') {\r\n        this.to('/personal/change_password')\r\n      }\r\n    },\r\n    async logout() {\r\n      await logout()\r\n      await removeToken()\r\n      window.location.href = process.env.VUE_APP_SSO\r\n    }\r\n  },\r\n  computed: {\r\n    activeMenu() {\r\n      const route = this.$route\r\n      const {path} = route\r\n      return path\r\n    },\r\n    count() {\r\n      return store.state.countUnread\r\n    },\r\n    menu() {\r\n      return store.state.menu\r\n    },\r\n    name() {\r\n      return store.state.userName\r\n    },\r\n    icon() {\r\n      return store.state.userIcon\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.28s;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-active {\r\n  opacity: 0;\r\n}\r\n\r\n/* fade-transform */\r\n.fade-transform-leave-active,\r\n.fade-transform-enter-active {\r\n  transition: all .5s;\r\n}\r\n\r\n.fade-transform-enter {\r\n  opacity: 0;\r\n  transform: translateX(-30px);\r\n}\r\n\r\n.fade-transform-leave-to {\r\n  opacity: 0;\r\n  transform: translateX(30px);\r\n}\r\n\r\nhtml {\r\n  height: 100%;\r\n  overflow-x: hidden;\r\n}\r\n\r\nbody {\r\n  height: 100%;\r\n  background-color: #F0F7F9;\r\n}\r\n\r\n.main {\r\n  height: 100%;\r\n  margin-left: 200px;\r\n}\r\n\r\n.main-collapse {\r\n  height: 100%;\r\n  margin-left: 64px;\r\n}\r\n\r\n#app {\r\n  height: 100%;\r\n}\r\n\r\n* {\r\n  margin: 0;\r\n}\r\n\r\n.nav {\r\n  width: 200px;\r\n  height: 100%;\r\n}\r\n\r\n.nav-collapse {\r\n  width: 64px;\r\n  height: 100%;\r\n}\r\n\r\n.logo {\r\n  width: 60px;\r\n  height: 60px;\r\n  margin: 20px 70px;\r\n  cursor: pointer;\r\n}\r\n\r\n.logo-collapse {\r\n  width: 34px;\r\n  height: 34px;\r\n  margin: 20px 15px;\r\n  cursor: pointer;\r\n}\r\n\r\n.top-bar {\r\n  background-color: white;\r\n  position: fixed;\r\n  left: 201px;\r\n  right: 0;\r\n  z-index: 100;\r\n}\r\n\r\n.top-bar-collapse {\r\n  background-color: white;\r\n  position: fixed;\r\n  left: 65px;\r\n  right: 0;\r\n  z-index: 100;\r\n}\r\n\r\n.left {\r\n  float: left;\r\n  line-height: 60px;\r\n}\r\n\r\n.left span i {\r\n  font-size: 25px;\r\n  color: #656565;\r\n  cursor: pointer;\r\n}\r\n\r\n.right {\r\n  float: right;\r\n  position: relative;\r\n}\r\n\r\n.icon, .name {\r\n  float: left;\r\n}\r\n\r\n.name {\r\n  line-height: 60px;\r\n  color: #2399f1;\r\n  cursor: pointer;\r\n}\r\n\r\n.icon {\r\n  margin: 10px;\r\n}\r\n\r\n.breadcrumb {\r\n  background-color: white;\r\n  padding-left: 20px;\r\n}\r\n\r\n.container {\r\n  padding: 20px;\r\n}\r\n\r\n.inner_container {\r\n  background-color: white;\r\n  padding: 20px;\r\n  border-radius: 5px;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.pull-left {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n}\r\n\r\n.router {\r\n  padding-top: 60px;\r\n}\r\n.mail {\r\n  float: left;\r\n  height: 60px;\r\n  font-size: 22px;\r\n  cursor: pointer;\r\n  position: absolute;\r\n  left: -30px;\r\n  top: 18px;\r\n}\r\n.item:hover {\r\n  color: #409EFF;\r\n}\r\n.item:active {\r\n  color: #000000;\r\n}\r\n</style>\r\n"]}]}